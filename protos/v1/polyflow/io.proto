syntax = "proto3";

package v1;

import "google/protobuf/struct.proto";

option go_package = "v1/polyflow";

// Inputs/Outputs specification
message IO {
    // Name for the input/output
    string name = 1;

    // Description for the input/output
    string description = 2;

    // The type of the input/output
    string type = 3;

    // The value of the input/output should be compatible with the type
    google.protobuf.Struct value = 4;

    // A flag to tell if this input/output is optional
    bool isOptional = 5;

    // A flag to tell if this input/output is list
    bool isList = 6;

    // A flag to tell if this input/output is flag, only valid for bool type
    bool isFlag = 7;

    // An optional argFromat of the input/output to be used instead of passing the value as is
    string argFormat = 8;

    // A flag to tell if param validation for this input/output should be delayed
    bool delayValidation = 9;

    // An optional field to provide possible values for validation
    repeated google.protobuf.Struct options = 10;

    // A flag to signal to Polyaxon that this io is used with a connection
    string connection = 11;

    // A flag to signal to Polyaxon that this io must be tranformed to an init container
    bool toInit = 12;

    // A flag to signal to Polyaxon that this io must be tranformed to the environment variable passed
    string toEnv = 13;
}

// Param specification
message Param {
    // The value to pass, if no ref or search is passed then it corresponds to a literal value
    google.protobuf.Struct value = 1;

    // Ref corresponds to a reference of an object
    string ref = 2;

    // A flag to signal to Polyaxon that this param is used with a connection
    string connection = 4;

    // A flag to signal to Polyaxon that this param must be tranformed to an init container
    bool toInit = 5;

    // A flag to signal to Polyaxon that this io must be tranformed to the environment variable passed
    string toEnv = 6;

    // A flag to signal to Polyaxon that this param should not be validated against io
    bool contextOnly = 7;
}
